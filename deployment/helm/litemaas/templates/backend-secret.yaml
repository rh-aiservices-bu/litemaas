{{- if not .Values.backend.auth.existingSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "litemaas.backend.fullname" . }}
  labels:
    {{- include "litemaas.componentLabels" (dict "context" . "component" "api") | nindent 4 }}
type: Opaque
stringData:
  database-url: {{ include "litemaas.backend.databaseUrl" . | quote }}
  cors-origin: {{ include "litemaas.backend.corsOrigin" . | quote }}
  jwt-secret: {{ .Values.backend.auth.jwtSecret | quote }}
  oauth-client-id: {{ include "litemaas.oauth.clientId" . | quote }}
  oauth-client-secret: {{ include "litemaas.oauth.clientSecret" . | quote }}
  oauth-issuer: {{ include "litemaas.oauth.issuer" . | quote }}
  oauth-callback-url: {{ include "litemaas.backend.oauthCallbackUrl" . | quote }}
  admin-api-keys: {{ .Values.backend.auth.adminApiKeys | quote }}
  litellm-api-key: {{ .Values.backend.auth.litellmApiKey | quote }}
  litellm-master-key: {{ .Values.backend.auth.litellmMasterKey | default .Values.backend.auth.litellmApiKey | quote }}
{{- end }}
